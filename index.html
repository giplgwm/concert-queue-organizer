<!DOCTYPE html>
<html lang='en-US'>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Queue Management</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link href="img/icon.png" rel="icon" type="image/x-icon" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


</head>

<body class='scrollable-element'>
  <h1 style='text-align: center'>Queue Management</h1>

  <div class="info-btn" id="infoBtn">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-info-circle" width="44" height="44"
      viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
      stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
      <path d="M12 9h.01" />
      <path d="M11 12h1v4h1" />
    </svg>
    <span class="tooltiptext" id="tooltip">
      <strong>Info</strong>
      <p>Create Jobs & Drag them between categories.</p>
      <p>Double click a job to mark it done for the day.</p>
      <p>Right click to edit a job.</p>
      <p>Paste your queue from COPS using the import button below.</p>
      <p>Feel free to close the site, your queue will be saved.</p>
      <p>Set a lunch time in the settings menu to use the <em>Copy Lunch Queue</em> function.</p>
      <p>Jobs in <em>Today</em> and <em>Tomorrow</em> will automatically sort by Time</p>
    </span>
  </div>

  <div class="tooltip-container" id='configBtn'>
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-settings" width="44" height="44"
      viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
      stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path
        d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" />
      <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
    </svg>
    <span class="tooltiptext">
      Settings
    </span>
  </div>

  <div class="tooltip-container" id='darkmodeBtn'>
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="44" height="44"
      viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
      stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
    <span class="tooltiptext">
      Toggle Dark Mode
    </span>
  </div>

  <div class="tooltip-container" id='copyImgBtn'>
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-camera" width="44" height="44"
      viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
      stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path
        d="M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />
      <path d="M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
    </svg>
    <span class="tooltiptext">
      Copy Screenshot To Clipboard
    </span>
  </div>

  <div class='tooltip-container' id='bugreportBtn'>
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-bug" width="44" height="44"
      viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
      stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M9 9v-1a3 3 0 0 1 6 0v1" />
      <path d="M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3" />
      <path d="M3 13l4 0" />
      <path d="M17 13l4 0" />
      <path d="M12 20l0 -6" />
      <path d="M4 19l3.35 -2" />
      <path d="M20 19l-3.35 -2" />
      <path d="M4 7l3.75 2.4" />
      <path d="M20 7l-3.75 2.4" />
    </svg>
    <span class='tooltiptext'>Report Bug / Request Feature</span>
  </div>

  <div class='tooltip-container' id='schedJobBtn' onclick='toggleSideTray()'>
    <svg id='schedjobsvg' xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-badge-right"
      width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
      stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M13 7h-6l4 5l-4 5h6l4 -5z" />
    </svg>
    <span class='tooltiptext'>Scheduled</span>
  </div>








  <!-- DIALOGS -->

  <dialog id='configdialog'>
    <h2>Settings</h2>
    <form method='dialog'>
      <section>
        <label for='donecolor'>Done color:</label>
        <input type='color' id='donecolor' value='#228B22' name='donecolor'>
      </section>
      <section>
        <label for='lunchhour'>Lunch Time:</label>
        <input type='time' id='lunchhour' name='lunchhour' value='11:00' min='08:00' max='16:00'>
      </section>
      <button id='cancelDialog' type='reset'>Cancel</button>
      <button type='submit' id='applyconfigBtn' value='submit'>Apply</button>
    </form>
  </dialog>

  <dialog id='job-dialog'>
    <h2>New Job</h2>
    <form method='dialog'>
      <label for='jobnumber'> Job Number: </label>
      <input type='numeric' id='jobnumber' name='jobnumber' required pattern="[0-9]{5,8}" autocomplete='off'
        placeholder="123456">
      <details>
        <summary>Job Details <em>(optional)</em></summary>
        <label for='sow'> SOW: </label>
        <select id='sow' name='sow'>
          <option value='Install'>Install</option>
          <option value='Install w/ Bridge'>Install w/ Bridge</option>
          <option value="Survey">Survey</option>
          <option value="Extension">Extension</option>
          <option value="Extend/Test/Install">Extend/Test/Install</option>
          <option value="Issues">Issues</option>
          <option value="Issues">On Hold</option>
          <option value="Revisit">Revisit</option>
          <option value="Extend and Test">Extend and Test</option>
          <option value="Uninstall">Uninstall</option>
          <option value="Other">Other</option>
          <option value="" selected>None</None>
        </select>
        <label for='category'> Category: </label>
        <select id='category' name='category'>
          <option selected>Today</option>
          <option>Tomorrow</option>
          <option>Unscheduled</option>
          <option>Completed</option>
          <option>Scheduled</option>
        </select>
        <label for='time'> Time: </label>
        <input type='time' id='time' name='time'>
        <label for='timezone'>Timezone: </label>
        <select id='timezone' name='timezone'>
          <option selected>EST</option>
          <option>MST</option>
          <option>CST</option>
          <option>PST</option>
          <option>AST</option>
          <option>HAST</option>
          <option>AKST</option>
        </select>
        <label for='note'>Note:</label>
        <input type='text' id='note' name='note' placeholder='note...' autocomplete="off">
      </details>
      <button id='jobcancelBtn' type="reset" value='cancel'>Cancel</button>
      <button type='submit' value='submit'>Submit</button>
    </form>
  </dialog>


  <dialog id='jobeditdialog'>
    <h2>Edit Job</h2>
    <form method='dialog'>
      <label for='jobnumber'> Job Number: </label>
      <input type='numeric' id='jobnumber' name='jobnumber' required pattern="[0-9]{5,8}" autocomplete='off'
        placeholder="123456">
      <label for='sow'> SOW: </label>
      <select id='sow' name='sow'>
        <option value='Install'>Install</option>
        <option value="Survey">Survey</option>
        <option value="Extension">Extension</option>
        <option value="Extend/Test/Install">Extend/Test/Install</option>
        <option value="Issues">Issues</option>
        <option value="Issues">On Hold</option>
        <option value="Revisit">Revisit</option>
        <option value="Extend and Test">Extend and Test</option>
        <option value="Uninstall">Uninstall</option>
        <option value="Other">Other</option>
        <option value="" selected>None</None>
      </select>
      <label for='category'> Category: </label>
      <select id='category' name='category'>
        <option selected>Today</option>
        <option>Tomorrow</option>
        <option>Unscheduled</option>
        <option>Completed</option>
        <option>Scheduled</option>
      </select>
      <label for='time'> Time: </label>
      <input type='time' id='time' name='time'>
      <label for='timezone'>Timezone: </label>
      <select id='timezone' name='timezone'>
        <option selected>EST</option>
        <option>MST</option>
        <option>CST</option>
        <option>PST</option>
        <option>AST</option>
        <option>HAST</option>
        <option>AKST</option>
      </select>
      <label for='note'>Note:</label>
      <input type='text' id='note' name='note' placeholder='note...' autofocus autocomplete="off">
      <button type='reset' value='cancel' id='contextclosebutton'>Cancel</button>
      <button type='submit' value='submit' id='contextsubmitbutton'>Submit</button>
    </form>
  </dialog>


  <dialog id='jobnotesdialog'>
    <h2>Job Notes</h2>
    <div id='notescontainer'>
    </div>
    <textarea></textarea>
  </dialog>


  <dialog id='contextmenudialog'>
    <div id='contextmenucontainer'>
      <h2 id='jobidheading' style='text-align: center; margin-bottom: 0;'></h2>
      <button id='editjobBtn'>Edit job</button>
      <button id='copyJobBtn'>Copy job to clipboard</button>
      <button id='copslookupBtn'>COPS lookup</button>
      <button id='close'>Close</button>
    </div>
  </dialog>

  <dialog id='importqdialog'>
    <textarea id='queuefield' style='resize: none' placeholder='Paste queue here.


      
      
*Note: On friday, Next mondays jobs will be shown as tomorrow' rows=7></textarea>
    <details>
      <summary style='cursor: pointer;'>How to use?</summary>
      <ul>
        <li>Navigate to your COPS Queue (<a href='https://copsapps.concerttech.com/COPSJobSiteManager/PFScreen5.aspx'
            target='_blank'>here</a>)</li>
        <li>Click any square in the table</li>
        <li>Ctrl-A to select All</li>
        <li>Ctrl-C to copy</li>
        <li>Paste it in the Text Box Above</li>
        <li>Click sort</li>
      </ul>
    </details>
    <div id='importdialogbuttons'>
      <button id='closeqdialog'>Close</button>
      <button id='clearqimport'>Clear</button>
      <button id='copyqBtn'>Import</button>
    </div>
  </dialog>

  <dialog id='reportdialog'>
    <div id='reportcontainer'>
      <span id='closereportbtn'>X</span>
      <iframe
        src="https://docs.google.com/forms/d/e/1FAIpQLSdeor_Kmuv8pMDl8870qMjYQztxp3RQXZYKUdvpTdyE1EXTnQ/viewform?embedded=true"
        width="600" height="508" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
    </div>
  </dialog>

  <!-- PAGE CONTENT -->

  <div id='areas'>
    <div id='Today' class='category'>
      <h4>Today</h4>
      <div class='dragbox' ondrop="drop(event)" ondragover="allowDrop(event)">
      </div>
    </div>
    <div id='Tomorrow' class='category'>
      <h4>Tomorrow</h4>
      <div class='dragbox' ondrop="drop(event)" ondragover="allowDrop(event)">
      </div>
    </div>
    <div id='Unscheduled' class='category'>
      <h4>Unscheduled</h4>
      <div class='dragbox' ondrop="drop(event)" ondragover="allowDrop(event)">
      </div>
    </div>
    <div id='Completed' class='category'>
      <h4>Completed</h4>
      <div class='dragbox' ondrop="drop(event)" ondragover="allowDrop(event)">
      </div>
    </div>
  </div>
  <div class="side-tray" id="sideTray">
    <div id='Scheduled' class='category'>
      <h4>Scheduled</h4>
      <div class='dragbox' ondrop="drop(event)" ondragover="allowDrop(event)">
      </div>
    </div>
  </div>

  <div id='footer'>
    <div id='footerflexcontainer'>
      <div class='trashbox' ondrop="trash(event)" ondragover="allowDrop(event)">
        <legend style='margin-bottom:0px'>TRASH</legend>
        <output>Drag jobs here to delete.</output>
      </div>
      <div id='copybuttons'>
        <button id='copyqueueBtn'>Copy Queue</button>
        <button id='copylunchBtn'>Copy Lunch Queue</button>
      </div>
      <button id='importqBtn'>Import Queue</button>
      <button onclick='clearQueue()' id='clearqBtn'>Clear Queue</button>
      <button id='newjobBtn'>Add Job</button>
    </div>
    <div id='copiedText' class='hidden'>Text copied to clipboard!</div>
  </div>

  </div>

  <script src='scripts/job.js'></script>
  <script src='scripts/init.js'></script>
  <script src='scripts/dragndrop.js'></script>
  <script src='scripts/sort.js'></script>
  <script src="scripts/functions.js"></script>
  <script src='scripts/import.js'></script>
  <script src='scripts/eventlisteners.js'></script>
</body>

</html>